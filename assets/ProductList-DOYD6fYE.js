import{j as e,r as o,L as u}from"./index-CikZvOA1.js";import{S as h}from"./star-ratings-DR8n9diK.js";import{P as j}from"./Layout-lsIIRohv.js";import{P as g}from"./ProductsSkeleton-DpvfxoCj.js";const N=()=>e.jsx("div",{className:"position-absolute top-50 start-50 transform",children:e.jsx("p",{className:"fs-4 font-bold text-secondary",children:"No result found"})}),P=()=>{const{ProductList:c,BrandList:n,BrandListRequest:d,CategoryList:i,CategoryListRequest:m,ProductFilter:x}=j(),[a,p]=o.useState({brandID:"",categoryID:"",priceMin:"",priceMax:""}),l=async(s,r)=>{p(t=>({...t,[s]:r}))};return o.useEffect(()=>{(async()=>(n===null&&await d(),i===null&&await m(),Object.values(a).every(r=>r==="")||await x(a)))()},[a]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"container mt-2",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3 p-3",children:e.jsxs("div",{className:"card p-3 shadow-sm vh-100",children:[e.jsx("label",{className:"form-label mt-3",children:"Brands"}),e.jsxs("select",{value:a.brandID,onChange:async s=>await l("brandID",s.target.value),className:"form-control form-select",children:[e.jsx("option",{value:"",children:"Choose Brand"}),n!=null?n.map((s,r)=>e.jsxs("option",{value:s._id,children:[" ",s.brandName," "]},r)):e.jsx("option",{})]}),e.jsx("label",{className:"form-label mt-3",children:"Categories"}),e.jsxs("select",{value:a.categoryID,onChange:async s=>await l("categoryID",s.target.value),className:"form-control form-select",children:[e.jsx("option",{value:"",children:"Choose Category"}),i!=null?i.map((s,r)=>e.jsxs("option",{value:s._id,children:[" ",s.categoryName," "]},r)):e.jsx("option",{})]}),e.jsxs("label",{className:"form-label mt-3",children:["Maximum Price $",a.priceMax]}),e.jsx("input",{value:a.priceMax,onChange:s=>l("priceMax",s.target.value),type:"range",min:0,max:1e6,step:1e3,className:"form-range"}),e.jsxs("label",{className:"form-label mt-3",children:["Minimum Price $",a.priceMin]}),e.jsx("input",{value:a.priceMin,onChange:s=>l("priceMin",s.target.value),type:"range",min:0,max:1e6,step:1e3,className:"form-range"})]})}),e.jsx("div",{className:"col-md-9 p-2",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:c===null?e.jsx(g,{}):e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:c.length===0?e.jsx(N,{}):c.map((s,r)=>{let t=e.jsxs("p",{className:"text-dark bodyMedium my-1",children:["Price: $",s.price," "]});return s.discount===!0&&(t=e.jsxs("p",{className:"text-dark bodyMedium my-1",children:["Price:",e.jsxs("strike",{children:[" $",s.price," "]})," $",s.discountPrice," "]})),e.jsx("div",{className:"col-12 col-lg-3 col-md-3 col-sm-6 p-2",children:e.jsxs(u,{to:`/details/${s._id}`,className:"card bg-white h-100 rounded-3 shadow-sm",children:[e.jsx("img",{className:"rounded-top-2 w-100",src:s.image}),e.jsxs("div",{className:"card-body",children:[e.jsx("p",{className:"text-secondary bodySmal my-1",children:s.title}),t,e.jsx(h,{rating:parseFloat(s.star),starRatedColor:"red",starDimension:"15px",starSpacing:"2px"})]})]})},r)})})})})})})]})})})};export{P};
